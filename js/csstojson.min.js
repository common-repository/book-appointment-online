var CSSJSON=new function(){var e=this;e.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(e){return new Array(1+e).join(this)}},e.init();var t=/\/\*[\s\S]*?\*\//g,r=/([^\:]+):([^\;]*);/,n=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,a=function(e){return void 0===e||0==e.length||null==e},s=function(e){return!a(e)&&(e.attributes&&e.children)};e.toJSON=function(s,o){var u={children:{},attributes:{}},l=null,f=0;if(void 0===o)var o={ordered:!1,comments:!1,stripComments:!1,split:!1};for(o.stripComments&&(o.comments=!1,s=s.replace(t,""));null!=(l=n.exec(s));)if(!a(l[1])&&o.comments){var c=l[1].trim();u[f++]=c}else if(a(l[2])){if(!a(l[3]))return u;if(!a(l[4])){var d=l[4].trim(),m=r.exec(d);if(m){var v=m[1].trim(),p=m[2].trim();if(o.ordered){var h={};h.name=v,h.value=p,h.type="attr",u[f++]=h}else if(v in u.attributes){var S=u.attributes[v];S instanceof Array||(u.attributes[v]=[S]),u.attributes[v].push(p)}else u.attributes[v]=p}else u[f++]=d}}else{var v=l[2].trim(),y=e.toJSON(s,o);if(o.ordered)(h={}).name=v,h.value=y,h.type="rule",u[f++]=h;else{if(o.split)b=v.split(",");else var b=[v];for(i in b){var g=b[i].trim();if(g in u.children)for(var C in y.attributes)u.children[g].attributes[C]=y.attributes[C];else u.children[g]=y}}}return u},e.toCSS=function(e,t,r){var n="";if(void 0===t&&(t=0),void 0===r&&(r=!1),e.attributes)for(i in e.attributes){var a=e.attributes[i];if(a instanceof Array)for(var s=0;s<a.length;s++)n+=l(i,a[s],t);else n+=l(i,a,t)}if(e.children){var o=!0;for(i in e.children)r&&!o?n+="\n":o=!1,n+=f(i,e.children[i],t)}return n},e.toHEAD=function(t,r,i){var n=document.getElementsByTagName("head")[0],l=document.getElementById(r),f=null!==l&&l instanceof HTMLStyleElement;if(!a(t)&&n instanceof HTMLHeadElement){if(f){if(!0!==i&&!a(i))return;l.removeAttribute("id")}s(t)&&(t=e.toCSS(t));var c=document.createElement("style");if(c.type="text/css",a(r)?c.id="cssjson_"+u():c.id=r,c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),n.appendChild(c),o(c))f&&l.parentNode.removeChild(l);else{if(c.parentNode.removeChild(c),!f)return;l.setAttribute("id",r),c=l}return c}},"undefined"!=typeof window&&(window.createCSS=e.toHEAD);var o=function(e){return e instanceof HTMLStyleElement&&e.sheet.cssRules.length>0},u=function(){return Date.now()||+new Date},l=function(e,t,r){return"\t".repeat(r)+e+": "+t+";\n"},f=function(t,r,i){var n="\t".repeat(i)+t+" {\n";return n+=e.toCSS(r,i+1),n+="\t".repeat(i)+"}\n"}};